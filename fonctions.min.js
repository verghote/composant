"use strict";export function loadCSS(nom){const link=document.createElement("link");link.rel="stylesheet";link.type="text/css";link.href=nom;document.head.appendChild(link)}function loadJs(source){return new Promise((resolve,reject)=>{const script=document.createElement("script");script.src=source;script.onload=resolve;script.onerror=reject;document.head.appendChild(script)})}export async function loadNoty(){if(typeof Noty==="undefined"){try{await loadJs("https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js");await loadCSS("https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css");await loadCSS("https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.1/animate.min.css")}catch(error){console.error("Erreur lors du chargement de Noty",error)}}}export function afficherDansConsole(reponse){let config={ALLOWED_TAGS:[],KEEP_CONTENT:true};let message=DOMPurify.sanitize(reponse,config);console.log(message)}export function genererMessage(texte,couleur="rouge"){if(texte.startsWith("<br />")){return texte}let code;let icone;if(couleur==="vert"){code="#1FA055";icone="bi-check-circle"}else if(couleur==="rouge"){code="#C60800";icone="bi-x-circle"}else if(couleur==="orange"){code="#FF7415";icone="bi-exclamation-triangle"}return`
            <div class="alert alert-dismissible fade show" 
                 style="color:white; background-color:${code}" 
                 role="alert">
                 <i class="bi ${icone}" ></i>
                 ${texte}
                 <button type='button' class='btn-close' data-bs-dismiss='alert' aria-label='Close'></button>
            </div>`}export async function afficherMessage(parametre){const type=parametre.type?parametre.type:"error";const position=parametre.position?parametre.position:"center";const fermeture=parametre.fermeture?parametre.fermeture:0;const delai=parametre.delai?parametre.delai:500;if(fermeture===1){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:parametre.message,type:type,modal:true,killer:true,layout:position,theme:"sunset",buttons:[Noty.button("Ok","btn btn-sm btn-secondary float-end mt-0 mb-1",function(){n.close();if(parametre.surFermeture){parametre.surFermeture()}})],animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"}});n.show()}else{const n=new Noty({text:parametre.message,type:type,modal:true,layout:position,theme:"sunset",animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"},callbacks:{onClose:parametre.surFermeture}});n.show().setTimeout(delai);if(parametre.surFermeture){parametre.surFermeture()}}}export async function afficherErreur(message){let modal=document.getElementById("erreurModale");if(!modal){modal=document.createElement("div");modal.setAttribute("id","erreurModale");modal.setAttribute("class","modal fade");modal.setAttribute("tabindex","-1");modal.setAttribute("role","dialog");modal.setAttribute("aria-labelledby","exampleModalLabel");modal.setAttribute("aria-hidden","true");modal.innerHTML=`
      <div class="modal-dialog" style="transform: translate(0, -50%); top: 40%;max-width: 350px;">
        <div class="modal-content" style="font-size: 0.9em;">
            <div class="modal-header" style="background-color: #f00; color: #fff;padding : 1px 15px 1px 15px">
                <div class="modal-title">Erreur</div>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="width: auto;">
                <p id="messageErreur"></p>
            </div>
        </div>
    </div>
    `;document.body.appendChild(modal)}document.getElementById("messageErreur").textContent=message;const modalInstance=new bootstrap.Modal(modal);modalInstance.show()}export async function afficherErreur2(message){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message,type:"error",modal:true,killer:true,layout:"center",theme:"sunset",buttons:[Noty.button("Ok","btn btn-sm btn-secondary float-end mt-0 mb-1",function(){n.close()})],animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"}});n.show()}export async function afficherSucces(message){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message,type:"success",modal:true,killer:true,layout:"topRight",theme:"sunset",animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"}});n.show().setTimeout(500)}export async function prevenir(message,type="success",position="center"){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message,type:type,modal:true,killer:true,layout:position,theme:"sunset",animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"}});n.show().setTimeout(500)}export async function avertir(message,type="success",position="center"){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message,type:type,modal:true,killer:true,layout:position,theme:"sunset",buttons:[Noty.button("Ok","btn btn-sm btn-secondary float-end mt-0 mb-1",function(){n.close()})],animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"}});n.show()}export async function confirmerSucces(message){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message,type:"success",modal:true,killer:true,layout:"center",theme:"sunset",buttons:[Noty.button("Ok","btn btn-sm btn-secondary float-end mt-0 mb-1",function(){n.close()})],animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"}});n.show()}export async function retournerVers(message,url){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message,type:"success",modal:true,layout:"center",theme:"sunset",animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"},callbacks:{onClose:()=>{location.href=url}}});n.show().setTimeout(500)}export async function retournerVersApresConfirmation(message,url){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message,type:"success",modal:true,layout:"center",theme:"sunset",buttons:[Noty.button("Ok","btn btn-sm btn-secondary float-end mt-0 mb-1",function(){n.close()})],animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"},callbacks:{onClose:()=>{location.href=url}}});n.show()}export async function corriger(input,message=input.validationMessage,oldValue=null){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message,type:"error",modal:true,killer:true,layout:"center",theme:"sunset",buttons:[Noty.button("Ok","btn btn-sm btn-secondary float-end mt-0 mb-1",function(){n.close()})],animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"},callbacks:{onClose:()=>{if(input.type==="checkbox"){input.checked=!input.checked}else if(input.hasAttribute("data-old")){input.value=input.dataset.old}else{input.value=oldValue}}}});n.show()}export async function corrigerInput(input){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:input.validationMessage,type:"error",modal:true,killer:true,layout:"center",theme:"sunset",buttons:[Noty.button("Ok","btn btn-sm btn-secondary float-end mt-0 mb-1",function(){n.close()})],animation:{open:"animated lightSpeedI",close:"animated lightSpeedOut"},callbacks:{onClose:()=>{input.value=input.dataset.old}}});n.show()}export async function confirmer(callback,message=""){if(typeof Noty==="undefined"){await loadNoty()}const n=new Noty({text:message===""?"Confirmer votre demande ":message,layout:"center",theme:"sunset",modal:true,type:"info",animation:{open:"animated lightSpeedIn",close:"animated lightSpeedOut"},buttons:[Noty.button("Oui","btn btn-sm btn-success marge ",function(){callback();n.close()}),Noty.button("Non","btn btn-sm btn-danger",function(){n.close()})]}).show()}export async function afficherVeuillezPatienter(){var modal=document.getElementById("modalVeuillezPatienter");if(!modal){modal=document.createElement("div");modal.setAttribute("id","modalVeuillezPatienter");modal.setAttribute("class","modal fade");modal.setAttribute("tabindex","-1");modal.setAttribute("role","dialog");modal.setAttribute("aria-labelledby","exampleModalLabel");modal.setAttribute("aria-hidden","true");modal.innerHTML=`
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <p>Veuillez patienter...</p>
                        <div class="spinner-border" role="status">
                            <span class="visually-hidden">Chargement en cours...</span>
                        </div>
                    </div>
                </div>
            </div>
        `;document.body.appendChild(modal)}const modalInstance=new bootstrap.Modal(modal,{backdrop:"static",keyboard:false});modalInstance.show();return modalInstance}export async function fermerVeuillezPatienter(modalInstance){if(modalInstance){modalInstance.hide()}}export function afficherCompteur(conteneur,valeurFinale,duree=4e3,fontSize="30px",color="black",textAlign="center"){const debut=performance.now();const depart=0;conteneur.innerText=depart;conteneur.style.opacity="0";conteneur.style.transform="scale(1)";conteneur.style.transition="opacity 0.4s ease-in, transform 0.2s ease-out";conteneur.style.color=color;conteneur.style.textAlign=textAlign;conteneur.style.fontSize=fontSize;conteneur.style.fontWeight="bold";function easing(t){return t<.5?2*t*t:-1+(4-2*t)*t}function step(timestamp){const tempsEcoule=timestamp-debut;let progression=Math.min(tempsEcoule/duree,1);const facteur=easing(progression);const valeurCourante=Math.floor(depart+(valeurFinale-depart)*facteur);conteneur.innerText=valeurCourante;if(progression>=.05&&conteneur.style.opacity!=="1"){conteneur.style.opacity="1"}if(progression<.5){const scale=1+.3*(1-Math.abs(.5-progression)*2);conteneur.style.transform=`scale(${scale})`}else{conteneur.style.transform="scale(1)"}if(progression<1){requestAnimationFrame(step)}else{conteneur.innerText=valeurFinale;conteneur.style.transform="scale(1)"}}requestAnimationFrame(step)}export function configurerFormulaire(onInput=false){const style=document.createElement("style");style.innerHTML=".messageErreur { color: red; margin-bottom: 15px; font-size: 0.75rem; font-style: italic; padding: 0; margin: 0; }";document.head.appendChild(style);for(const input of document.querySelectorAll("input, textarea, select")){const div=document.createElement("div");div.classList.add("messageErreur");input.insertAdjacentElement("afterend",div);if(onInput){input.addEventListener("input",()=>{input.nextElementSibling.innerText=input.validationMessage})}}}export function effacerDonneesSaisies(zone=document){for(const input of zone.querySelectorAll("input, textarea")){input.value=""}}export function afficherErreurSaisie(idInput,message=null){const input=document.getElementById(idInput);if(input){let msg=input.validationMessage;if(message!==null){msg=message}let nextElement=input.nextElementSibling;let trouve=false;while(nextElement&&!trouve){if(nextElement.classList.contains("messageErreur")){nextElement.innerText=msg;trouve=true}nextElement=nextElement.nextElementSibling}if(!trouve){console.error(`L'élément d'entrée ${idInput} n'est pas suivi d'une balise div de classe 'messageErreur'`)}}else{console.error(`L'élément d'entrée ${idInput} n'existe pas.`)}}export function filtrerLaSaisie(idInput,regExp){const input=document.getElementById(idInput);if(input){input.addEventListener("keydown",e=>{if(e.key.length>1){return}if(!regExp.test(e.key)){e.preventDefault()}})}else{console.error(`L'élément d'entrée ${idInput} n'existe pas.`)}}export function controler(idInput){const input=document.getElementById(idInput);if(input){afficherErreurSaisie(idInput);if(input.checkValidity()){input.classList.remove("erreur");return true}else{input.classList.add("erreur");return false}}else{console.error(`L'élément d'entrée ${idInput} n'existe pas.`)}}export function verifier(input){input.title=input.validationMessage;if(input.checkValidity()){input.style.borderColor="";return true}else{input.style.borderColor="red";return false}}export function fichierValide(file,controle){controle.reponse="";if(file===undefined){controle.reponse="Aucun fichier transmis";return false}if(controle.taille&&file.size>controle.taille){const size=conversionOctet(file.size,"Ko");const taille=conversionOctet(controle.taille,"Ko");controle.reponse=`La taille du fichier (${size}) dépasse la taille autorisée (${taille})`;return false}if(controle.lesExtensions){const eltFichier=file.name.split(".");const extension=eltFichier[eltFichier.length-1].toLowerCase();if(controle.lesExtensions.indexOf(extension)===-1){controle.reponse=`Extension ${extension} non acceptée`;return false}}return true}export function donneesValides(zone=document){let valide=true;const lesInputs=zone.querySelectorAll("input[required]:not([disabled]), select[required]:not([disabled])");lesInputs.forEach(x=>{afficherErreurSaisie(x.id);if(!x.checkValidity()){valide=false}});const champsNonRequired=zone.querySelectorAll("input:not([required]):not([disabled]), select:not([required]):not([disabled])");champsNonRequired.forEach(x=>{if(x.value!==""){afficherErreurSaisie(x.id);if(!x.checkValidity()){valide=false}}});return valide}export function donneesModifiees(element){for(const cle in element){const champ=document.getElementById(cle);if(!champ){continue}if(champ.value!=element[cle]){return true}}return false}export function dateValide(idInput){const input=document.getElementById(idInput);if(input){const dateRegex=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(!dateRegex.test(input.value)){afficherErreurSaisie(idInput,"Cette date ne respecte pas le format attendu (jj/mm/aaaa)");return false}const[jour,mois,annee]=input.value.split("/").map(Number);const date=new Date(annee,mois-1,jour);if(date.getFullYear()===annee&&date.getMonth()===mois-1&&date.getDate()===jour){return true}else{afficherErreurSaisie(idInput,"Cette date n'est pas valide");return false}}else{console.error(`L'élément d'entrée ${idInput} n'existe pas.`)}}export function viderLesChamps(zone=document){for(const input of zone.querySelectorAll("input, textarea")){input.value=""}}export function protegerLesChamps(zone=document){for(const input of zone.querySelectorAll("input, textarea, select, button")){input.disabled=true}}export function deprotegerLesChamps(zone=document){for(const input of zone.querySelectorAll("input, textarea, select, button")){input.disabled=false}}export function effacer(inputId){const input=document.getElementById(inputId);if(input){if(input instanceof HTMLInputElement){const type=input.type.toLowerCase();if(type==="checkbox"){input.checked=false}else if(type==="number"||type==="text"){input.value=""}}else if(input instanceof HTMLSelectElement){while(input.options.length>0){input.remove(0)}}else if(input.tagName==="IMG"){input.src=""}else{input.innerHTML=""}}else{console.error(`L'élément ${inputId} n'existe pas`)}}export function effacerLesErreurs(){for(const div of document.getElementsByClassName("messageErreur")){div.innerText=""}const msg=document.getElementById("msg");if(msg!==null){effacer("msg")}}export function signalerErreur(input){input.style.borderColor="red";input.style.color="red";input.focus()}export function effacerErreur(input){input.style.borderColor="";input.style.color="";input.focus()}export function arrondir(valeur,precision=0){const tmp=10**precision;return Math.round(valeur*tmp)/tmp}export function encoderDate(date){const lesElements=date.split("/");return lesElements[2]+"-"+"0".concat(lesElements[1]).slice(-2)+"0".concat(lesElements[0]).slice(-2)}export function decoderDate(date){return date.split("-").reverse().join("/")}export function getAge(dateNaissance){const dateParts=dateNaissance.split("/");const day=parseInt(dateParts[0],10);const month=parseInt(dateParts[1],10)-1;const year=parseInt(dateParts[2],10);const birthDate=new Date(year,month,day);const currentDate=new Date;const hasBirthdayOccurred=currentDate.getMonth()>birthDate.getMonth()||currentDate.getMonth()===birthDate.getMonth()&&currentDate.getDate()>=birthDate.getDate();return currentDate.getFullYear()-birthDate.getFullYear()-(hasBirthdayOccurred?0:1)}export function supprimerEspace(valeur){return valeur.trim().replace(/ {2,}/g," ")}export function supprimerDoubleEspace(valeur){return valeur.replace(/ {2,}/g," ")}export const enleverAccent=valeur=>valeur.normalize("NFD").replace(/[\u0300-\u036f]/g,"");export function ucWord(nom){const lesMots=nom.trim().toLowerCase().split(/[\s]+/);for(let i=0;i<lesMots.length;i+=1){const lesSousMots=lesMots[i].split("-");for(let j=0;j<lesSousMots.length;j+=1){lesSousMots[j]=lesSousMots[j].charAt(0).toUpperCase()+lesSousMots[j].slice(1)}lesMots[i]=lesSousMots.join("-")}return lesMots.join(" ")}function nbDecimale(x){const nombreEnChaine=x.toString();const indiceSeparateur=nombreEnChaine.indexOf(".")===-1?nombreEnChaine.indexOf(","):nombreEnChaine.indexOf(".");if(indiceSeparateur===-1){return 0}else{return nombreEnChaine.length-indiceSeparateur-1}}export function formater(valeur,{format="€",decimale=2,separateur="."}={}){let resultat;if(format==="€"){resultat=valeur.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}else if(format==="%"){const decimal=Math.max(nbDecimale(valeur)-2,0);resultat=valeur.toLocaleString("fr-FR",{style:"percent",minimumFractionDigits:decimal,maximumFractionDigits:decimal})}else if(format.toLowerCase()===""){resultat=valeur.toLocaleString("fr-FR",{minimumFractionDigits:decimale,maximumFractionDigits:decimale})}const langue=navigator.language;const separateurDecimal=langue.includes("fr")?",":".";if(separateur!==separateurDecimal){resultat=resultat.toString().replace(separateurDecimal,separateur)}return resultat}export function miseEnFormeTelephone(telephone,separateur="."){const numero=telephone.replace(/\D/g,"");const paires=[];for(let i=0;i<numero.length;i+=2){paires.push(numero.slice(i,i+2))}return paires.join(separateur)}export function conversionOctet(nb,unite="o"){let diviseur=1;if(unite==="Ko"){diviseur=1024}else if(unite==="Mo"){diviseur=1024*1024}else if(unite==="Go"){diviseur=1024*1024*1024}let str=Math.round(nb/diviseur).toString();let result=str.slice(-3);str=str.substring(0,str.length-3);while(str.length>3){const elt=str.slice(-3);result=elt.concat(" ",result);str=str.substring(0,str.length-3)}result=str.concat(result," ",unite);return result}export function onOff(corps,baliseI){if(corps.style.display==="none"){corps.style.display="block";baliseI.classList.remove("bi-arrow-bar-down");baliseI.classList.add("bi-arrow-bar-up")}else{corps.style.display="none";baliseI.classList.remove("bi-arrow-bar-up");baliseI.classList.add("bi-arrow-bar-down")}}export function comparer(str1,str2){const sansAccentsStr1=str1.normalize("NFD").replace(/[\u0300-\u036f]/g,"");const sansAccentsStr2=str2.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return sansAccentsStr1.toLowerCase()===sansAccentsStr2.toLowerCase()}export function read(inputId){let valeur;const input=document.getElementById(inputId);if(input){if(input instanceof HTMLInputElement){const type=input.type.toLowerCase();if(type==="checkbox"||type==="radio"){valeur=input.checked?1:0}else if(type==="number"){const value=input.value;if(Number.isInteger(value)){valeur=parseInt(value)}else{valeur=parseFloat(value)}}else{valeur=input.value.trim();if(valeur===""){valeur=null}else if(!isNaN(valeur)){if(Number.isInteger(valeur)){valeur=parseInt(valeur)}else{valeur=parseFloat(valeur)}}}}else if(input instanceof HTMLTextAreaElement){valeur=input.value}else if(input instanceof HTMLSelectElement){valeur=input.value;if(!isNaN(valeur)){if(Number.isInteger(valeur)){valeur=parseInt(valeur)}else{valeur=parseFloat(valeur)}}}else{valeur=input.innerText}}else{console.error(`L'élément ${inputId} n'existe pas`)}return valeur}export function write(inputId,valeur,format=null){const input=document.getElementById(inputId);if(input){if(input instanceof HTMLInputElement){const type=input.type.toLowerCase();if(type==="checkbox"||type==="radio"){input.checked=valeur}else{if(format){if(format==="€"){input.value=valeur.toLocaleString("fr-FR",{style:"currency",currency:"EUR"}).replace(",",".")}else if(format==="%"){input.value=valeur.toLocaleString("fr-FR",{style:"percent"})}else{input.value=valeur}}else{input.value=valeur}}}else if(input instanceof HTMLTextAreaElement){input.value=valeur}else if(input instanceof HTMLSelectElement){input.value=valeur}else if(input.tagName==="DIV"){const p=document.createElement("p");p.innerHTML=valeur;input.appendChild(p)}else if(input.tagName==="SPAN"){input.innerHTML=valeur}else if(input.tagName==="IMG"){input.src=valeur}else{input.innerText=valeur}}else{console.error(`L'élément ${inputId} n'existe pas`)}}export function creerTable(option){const lesElements=option.data||[];const lesColonnes=option.columns||[];const lesLargeurs=option.widths||[];const lesEntetes=option.headers||[];const headStyle=option.headStyle||{};const bodyStyle=option.bodyStyle||{};const lesClasses=option.class||{};const id=option.id||"";const style=option.style||"";const table=document.createElement("table");table.id=id;table.style.cssText=style;const thead=table.createTHead();const tr=thead.insertRow();if(lesColonnes.length===0){for(const colonne in lesElements[0]){const th=document.createElement("th");th.innerHTML=lesEntetes[colonne]||colonne;th.style.cssText=headStyle[colonne]||"";if(lesClasses[colonne]){th.classList.add(lesClasses[colonne])}if(lesLargeurs[colonne]){th.style.width=lesLargeurs[colonne]}tr.appendChild(th)}}else{for(const colonne of lesColonnes){const th=document.createElement("th");th.innerHTML=lesEntetes[colonne]||colonne;th.style.cssText=headStyle[colonne]||"";if(lesClasses[colonne]){th.classList.add(lesClasses[colonne])}if(lesLargeurs[colonne]){th.style.width=lesLargeurs[colonne]}tr.appendChild(th)}}const tbody=table.createTBody();for(const ligne of lesElements){const tr=tbody.insertRow();if(lesColonnes.length===0){for(const cle in ligne){const cellule=tr.insertCell();cellule.innerHTML=ligne[cle];cellule.style.cssText=bodyStyle[cle]||"";if(lesClasses[cle]){cellule.classList.add(lesClasses[cle])}}}else{for(const colonne of lesColonnes){const cellule=tr.insertCell();cellule.innerHTML=ligne[colonne];cellule.style.cssText=bodyStyle[colonne]||"";if(lesClasses[colonne]){cellule.classList.add(lesClasses[colonne])}}}}return table}export function creerTr(lesElements){const table=document.createElement("table");for(const ligne of lesElements){const tr=table.insertRow();for(const cle in ligne){tr.insertCell().innerText=ligne[cle]}}return table}export function melanger(lesElements){for(let i=lesElements.length-1;i>0;i-=1){const j=Math.floor(Math.random()*(i+1));[lesElements[i],lesElements[j]]=[lesElements[j],lesElements[i]]}}export function wait(ms){return new Promise(resolve=>setTimeout(resolve,ms))}export function getNbSeconde(temps){let heure=Number(temps.substring(0,2));let seconde=Number(temps.substring(6,8));let minute=Number(temps.substring(3,5));return heure*3600+minute*60+seconde}export function getVitesse(nbSeconde,distance){return 3600*distance/nbSeconde}export function getAllureEnMnSe(nbSeconde,distance){let tKm=Math.floor(nbSeconde/distance);let mn=Math.floor(tKm/60);let se=tKm-mn*60;let seT="0"+se;return mn.toString()+":"+seT.slice(-2)}export function getSaisonCourante(mois=9){let moisCourant=(new Date).getMonth()+1;let annee=(new Date).getFullYear();annee=moisCourant>=mois?annee+1:annee;return annee}export function getSaison(date,mois=9){let moisCourant=date.getMonth()+1;return moisCourant>=mois?date.getFullYear()+1:date.getFullYear()}export function getDateCourante(){const date=new Date;return date.toISOString().split("T")[0]}export function convertirDateIsoEnDateFr(dateIso){return dateIso.split("-").reverse().join("/")}export function convertirDateFrEnDateIso(dateFr){return dateFr.split("/").reverse().join("-")}export function convertirDateHeureIsoEnDateHeureFr(dateHeureIso){const[datePart,timePart]=dateHeureIso.split("T");const[year,month,day]=datePart.split("-");const formattedDate=`${day.padStart(2,"0")}/${month.padStart(2,"0")}/${year}`;const[hours,minutes,seconds]=timePart.split(":");const formattedTime=`${hours.padStart(2,"0")}:${minutes.padStart(2,"0")}`;return`${formattedDate} à ${formattedTime}`}export function getErrorAPI(reponse){if(reponse==="Not Found")return"Le point d'accès appelé n'existe pas";if(reponse==="Bad credentials")return"Vos paramètres d'authentification sont incorrects";if(reponse==="Requires authentication")return"Votre demande nécessite une authentification";if(reponse==="Repository creation failed.")return"La création du référentiel a échoué";if(reponse==="name already exists on this account")return"Ce référentiel existe déjà";if(reponse==="Body should be a JSON object")return"Votre demande ne comporte pas les paramètres attendus";return"Echec de la demande"}export async function ajax(options){const{url,method="GET",data,success=()=>{},error=()=>{}}=options;let fetchOptions={method:method};if(method.toUpperCase()==="POST"){if(data instanceof FormData){fetchOptions.body=data}else if(data&&typeof data==="object"){fetchOptions.headers={"Content-Type":"application/x-www-form-urlencoded"};fetchOptions.body=new URLSearchParams(data)}}else if(method.toUpperCase()==="GET"&&data&&typeof data==="object"){const params=new URLSearchParams(data).toString();options.url+=(url.includes("?")?"&":"?")+params}try{const response=await fetch(url,fetchOptions);if(!response.ok)throw response;const json=await response.json();success(json)}catch(reponse){let texte;try{texte=await reponse.text()}catch(e){texte="Erreur inconnue"}error(reponse,texte)}}
//# sourceMappingURL=fonctions.min.js.map